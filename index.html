<!DOCTYPE html>
<html>
<head>
    <title>Cosmic Cow Hunt</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        body { margin: 0; overflow: hidden; background: #0a043c; }
        canvas { touch-action: none; }
        #score {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #fff;
            font-family: Arial;
            font-size: 24px;
            text-shadow: 2px 2px #000;
            z-index: 100;
        }
    </style>
</head>
<body>
    <div id="score">Score: 0</div>
    <canvas id="gameCanvas"></canvas>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
let score = 0;
const cows = [];
const bullets = [];
let lastTime = 0;
const starCount = 100;
const stars = [];

// Set canvas size
function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener('resize', resizeCanvas);

// Generate stars
for (let i = 0; i < starCount; i++) {
    stars.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        size: Math.random() * 2,
        alpha: Math.random()
    });
}

// Cow class
class Cow {
    constructor() {
        this.reset();
        this.legAngle = 0;
    }

    reset() {
        this.x = Math.random() < 0.5 ? -100 : canvas.width + 100;
        this.y = Math.random() * (canvas.height - 100) + 50;
        this.speed = (Math.random() * 3 + 2) * (this.x < 0 ? 1 : -1);
        this.legDirection = Math.random() < 0.5 ? 1 : -1;
    }

    draw() {
        // Body
        ctx.fillStyle = 'white';
        ctx.beginPath();
        ctx.ellipse(this.x, this.y, 40, 25, 0, 0, Math.PI * 2);
        ctx.fill();

        // Head
        ctx.strokeStyle = 'rgba(200, 200, 255, 0.7)';
        ctx.lineWidth = 3;
        ctx.beginPath();
        ctx.arc(this.x + (this.speed > 0 ? -35 : 35), this.y - 15, 20, 0, Math.PI * 2);
        ctx.stroke();

        // Horns
        ctx.strokeStyle = 'white';
        ctx.beginPath();
        ctx.moveTo(this.x + (this.speed > 0 ? -45 : 45), this.y - 25);
        ctx.lineTo(this.x + (this.speed > 0 ? -55 : 55), this.y - 35);
        ctx.stroke();

        // Eyes
        ctx.fillStyle = 'black';
        ctx.beginPath();
        ctx.arc(this.x + (this.speed > 0 ? -40 : 30), this.y - 20, 3, 0, Math.PI * 2);
        ctx.arc(this.x + (this.speed > 0 ? -30 : 40), this.y - 20, 3, 0, Math.PI * 2);
        ctx.fill();

        // Nose
        ctx.fillStyle = '#8B4513';
        ctx.beginPath();
        ctx.ellipse(this.x + (this.speed > 0 ? -35 : 35), this.y - 10, 8, 5, 0, 0, Math.PI * 2);
        ctx.fill();
        
        // Nostrils
        ctx.fillStyle = 'black';
        ctx.beginPath();
        ctx.arc(this.x + (this.speed > 0 ? -38 : 32), this.y - 10, 2, 0, Math.PI * 2);
        ctx.arc(this.x + (this.speed > 0 ? -32 : 38), this.y - 10, 2, 0, Math.PI * 2);
        ctx.fill();

        // Legs
        ctx.strokeStyle = 'white';
        ctx.lineWidth = 8;
        const angles = [Math.sin(this.legAngle)*0.5, Math.cos(this.legAngle)*0.5];
        for(let i = 0; i < 4; i++) {
            ctx.beginPath();
            ctx.moveTo(this.x - 25 + (i*15), this.y + 20);
            ctx.lineTo(
                this.x - 25 + (i*15) + Math.cos(angles[i%2])*20 * this.legDirection,
                this.y + 20 + Math.sin(angles[i%2])*20
            );
            ctx.stroke();
        }
    }

    update() {
        this.x += this.speed;
        this.legAngle += 0.1;
        if(this.x < -150 || this.x > canvas.width + 150) this.reset();
    }
}

// Game loop
function gameLoop(timestamp) {
    ctx.fillStyle = '#0a043c';
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    // Draw stars
    ctx.fillStyle = 'white';
    stars.forEach(star => {
        ctx.globalAlpha = star.alpha;
        ctx.fillRect(star.x, star.y, star.size, star.size);
    });
    ctx.globalAlpha = 1;

    // Spawn cows
    if(Math.random() < 0.02) cows.push(new Cow());

    // Update and draw cows
    cows.forEach((cow, index) => {
        cow.update();
        cow.draw();
        
        // Remove offscreen cows
        if(cow.x < -200 || cow.x > canvas.width + 200) {
            cows.splice(index, 1);
        }
    });

    requestAnimationFrame(gameLoop);
}

// Shooting logic
function handleShoot(e) {
    const rect = canvas.getBoundingClientRect();
    const x = (e.clientX || e.touches[0].clientX) - rect.left;
    const y = (e.clientY || e.touches[0].clientY) - rect.top;

    // Check cow hits
    cows.forEach((cow, index) => {
        if(x > cow.x - 50 && x < cow.x + 50 && y > cow.y - 50 && y < cow.y + 50) {
            cows.splice(index, 1);
            score += 100;
            document.getElementById('score').textContent = `Score: ${score}`;
        }
    });
}

// Event listeners
canvas.addEventListener('mousedown', handleShoot);
canvas.addEventListener('touchstart', handleShoot);

// Start game
gameLoop();
</script>
</body>
</html>