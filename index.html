<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–∞–ø–∏–∫–∏</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --primary: #FF9F43;
            --secondary: #FF6B6B;
            --background: #FFF5F5;
            --text: #333;
            --panel: #FFF;
            --shadow: rgba(0, 0, 0, 0.1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background-color: var(--background);
            color: var(--text);
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        h1 {
            color: var(--secondary);
            text-shadow: 2px 2px 0 var(--shadow);
            font-size: 2.5rem;
        }

        .pets-count {
            background-color: var(--primary);
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            font-weight: bold;
            box-shadow: 0 3px 0 var(--shadow);
        }

        .pets-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            padding-bottom: 20px;
            overflow-x: auto;
            min-height: 300px;
        }

        .pet {
            background-color: var(--panel);
            border-radius: 15px;
            padding: 15px;
            width: 150px;
            box-shadow: 0 5px 0 var(--shadow);
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: transform 0.2s;
            position: relative;
        }

        .pet:hover {
            transform: translateY(-5px);
        }

        .pet.active {
            box-shadow: 0 0 0 3px var(--primary);
        }

        .pet-icon {
            width: 80px;
            height: 80px;
            margin-bottom: 10px;
            position: relative;
        }

        .bear-body {
            width: 100%;
            height: 100%;
            background-color: currentColor;
            border-radius: 50%;
            position: relative;
        }

        .bear-ears {
            position: absolute;
            top: -10px;
            width: 100%;
            display: flex;
            justify-content: space-between;
            z-index: -1;
        }

        .ear {
            width: 25px;
            height: 25px;
            background-color: currentColor;
            border-radius: 50%;
        }

        .bear-face {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60%;
            height: 60%;
            background-color: var(--panel);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .eyes {
            display: flex;
            justify-content: space-around;
            width: 100%;
            margin-bottom: 5px;
        }

        .eye {
            width: 8px;
            height: 8px;
            background-color: var(--text);
            border-radius: 50%;
        }

        .mouth {
            width: 20px;
            height: 10px;
            border-bottom: 2px solid var(--text);
            border-radius: 0 0 10px 10px;
        }

        .pet-stats {
            width: 100%;
            margin-top: 10px;
        }

        .stat {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
            font-size: 0.8rem;
        }

        .stat-icon {
            margin-right: 5px;
            width: 15px;
            text-align: center;
        }

        .stat-bar {
            flex-grow: 1;
            height: 8px;
            background-color: #eee;
            border-radius: 4px;
            overflow: hidden;
        }

        .stat-fill {
            height: 100%;
            border-radius: 4px;
        }

        .hunger .stat-fill {
            background-color: #FF6B6B;
        }

        .energy .stat-fill {
            background-color: #4ECDC4;
        }

        .happiness .stat-fill {
            background-color: #FFD166;
        }

        .xp-bar {
            width: 100%;
            height: 6px;
            background-color: #eee;
            border-radius: 3px;
            margin-top: 5px;
            overflow: hidden;
        }

        .xp-fill {
            height: 100%;
            background-color: #A0DAA9;
            border-radius: 3px;
        }

        .pet-level {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--secondary);
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8rem;
            box-shadow: 0 2px 0 var(--shadow);
        }

        .actions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
            justify-content: center;
        }

        .action-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 10px 15px;
            font-family: inherit;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 3px 0 var(--shadow);
            transition: transform 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .action-btn:hover {
            transform: translateY(-2px);
        }

        .action-btn:active {
            transform: translateY(1px);
            box-shadow: 0 1px 0 var(--shadow);
        }

        .action-btn:disabled {
            background-color: #ccc;
            transform: none;
            box-shadow: none;
            cursor: not-allowed;
        }

        .log {
            background-color: var(--panel);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            max-height: 150px;
            overflow-y: auto;
            box-shadow: 0 3px 0 var(--shadow);
        }

        .log-entry {
            margin-bottom: 5px;
            font-size: 0.9rem;
            padding-bottom: 5px;
            border-bottom: 1px dashed #eee;
        }

        .log-entry:last-child {
            margin-bottom: 0;
            border-bottom: none;
        }

        .menu-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 3px 0 var(--shadow);
            z-index: 100;
        }

        .menu {
            position: fixed;
            top: 0;
            right: 0;
            width: 250px;
            height: 100%;
            background-color: var(--panel);
            box-shadow: -5px 0 15px var(--shadow);
            padding: 70px 20px 20px;
            transform: translateX(100%);
            transition: transform 0.3s;
            z-index: 99;
        }

        .menu.active {
            transform: translateX(0);
        }

        .menu-item {
            display: block;
            width: 100%;
            padding: 12px;
            margin-bottom: 10px;
            background-color: var(--secondary);
            color: white;
            border: none;
            border-radius: 10px;
            font-family: inherit;
            font-weight: bold;
            cursor: pointer;
            text-align: center;
            box-shadow: 0 3px 0 var(--shadow);
        }

        .colors {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
            justify-content: center;
        }

        .color-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 2px solid white;
            cursor: pointer;
            box-shadow: 0 2px 0 var(--shadow);
        }

        .color-btn.active {
            transform: scale(1.2);
            box-shadow: 0 0 0 2px var(--primary);
        }

        @media (max-width: 600px) {
            .pets-container {
                flex-wrap: nowrap;
                overflow-x: auto;
                padding-bottom: 10px;
            }

            .pet {
                flex: 0 0 auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>–¢–∞–ø–∏–∫–∏</h1>
            <div class="pets-count" id="pets-count">1 —Ç–∞–ø–∏–∫</div>
        </header>

        <div class="pets-container" id="pets-container">
            <!-- –ü–∏—Ç–æ–º—Ü—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
        </div>

        <div class="actions">
            <button class="action-btn" onclick="feed()">üçé –ü–æ–∫–æ—Ä–º–∏—Ç—å</button>
            <button class="action-btn" onclick="play()">üéæ –ü–æ–∏–≥—Ä–∞—Ç—å</button>
            <button class="action-btn" onclick="rest()">üí§ –û—Ç–¥—ã—Ö</button>
            <button class="action-btn" onclick="train()">üí™ –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</button>
        </div>

        <div class="log" id="log">
            <div class="log-entry">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –¢–∞–ø–∏–∫–∏!</div>
            <div class="log-entry">–í–∞—à –ø–µ—Ä–≤—ã–π —Ç–∞–ø–∏–∫ –ø–æ—è–≤–∏–ª—Å—è!</div>
        </div>
    </div>

    <button class="menu-btn" id="menu-btn">‚ò∞</button>
    
    <div class="menu" id="menu">
        <button class="menu-item" onclick="newPet()">‚ûï –ù–æ–≤—ã–π —Ç–∞–ø–∏–∫</button>
        <button class="menu-item" onclick="resetGame()">üîÑ –ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
        
        <div style="text-align: center; margin: 20px 0; font-weight: bold;">–¶–≤–µ—Ç –Ω–æ–≤–æ–≥–æ —Ç–∞–ø–∏–∫–∞:</div>
        <div class="colors" id="colors">
            <div class="color-btn active" style="background-color: #FF6B6B;" onclick="setColor('#FF6B6B')"></div>
            <div class="color-btn" style="background-color: #4ECDC4;" onclick="setColor('#4ECDC4')"></div>
            <div class="color-btn" style="background-color: #FFD166;" onclick="setColor('#FFD166')"></div>
            <div class="color-btn" style="background-color: #A0DAA9;" onclick="setColor('#A0DAA9')"></div>
            <div class="color-btn" style="background-color: #7E8CE0;" onclick="setColor('#7E8CE0')"></div>
            <div class="color-btn" style="background-color: #DAA0DA;" onclick="setColor('#DAA0DA')"></div>
        </div>
        
        <button class="menu-item" onclick="toggleMenu()">‚úï –ó–∞–∫—Ä—ã—Ç—å</button>
    </div>

    <script>
        // –ò–≥—Ä–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
        let gameState = {
            pets: [],
            currentPetIndex: 0,
            nextColor: '#FF6B6B',
            log: []
        };

        // –¶–≤–µ—Ç–∞ –¥–ª—è –ø–∏—Ç–æ–º—Ü–µ–≤
        const colors = ['#FF6B6B', '#4ECDC4', '#FFD166', '#A0DAA9', '#7E8CE0', '#DAA0DA'];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        function initGame() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            const savedGame = localStorage.getItem('tapiPets');
            if (savedGame) {
                gameState = JSON.parse(savedGame);
                // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ª–æ–≥
                if (!gameState.log || gameState.log.length === 0) {
                    gameState.log = [
                        "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω–æ –≤ –¢–∞–ø–∏–∫–∏!",
                        `–£ –≤–∞—Å ${gameState.pets.length} —Ç–∞–ø–∏–∫–æ–≤!`
                    ];
                }
            } else {
                // –°–æ–∑–¥–∞–µ–º –ø–µ—Ä–≤–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞
                gameState.pets = [createPet(gameState.nextColor)];
                gameState.log = [
                    "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –¢–∞–ø–∏–∫–∏!",
                    "–í–∞—à –ø–µ—Ä–≤—ã–π —Ç–∞–ø–∏–∫ –ø–æ—è–≤–∏–ª—Å—è!"
                ];
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
            if (window.Telegram && Telegram.WebApp) {
                Telegram.WebApp.ready();
                Telegram.WebApp.expand();
            }
            
            renderGame();
        }

        // –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞
        function createPet(color) {
            return {
                color: color,
                hunger: 80,
                energy: 80,
                happiness: 80,
                level: 1,
                xp: 0,
                lastActionTime: Date.now()
            };
        }

        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–≥—Ä—É
        function saveGame() {
            localStorage.setItem('tapiPets', JSON.stringify(gameState));
        }

        // –û—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –∏–≥—Ä—É
        function renderGame() {
            const petsContainer = document.getElementById('pets-container');
            petsContainer.innerHTML = '';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –ø–∏—Ç–æ–º—Ü–µ–≤
            const countElement = document.getElementById('pets-count');
            countElement.textContent = `${gameState.pets.length} —Ç–∞–ø–∏–∫${gameState.pets.length > 1 ? '–æ–≤' : gameState.pets.length === 1 ? '' : '–æ–≤'}`;
            
            // –û—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –≤—Å–µ—Ö –ø–∏—Ç–æ–º—Ü–µ–≤
            gameState.pets.forEach((pet, index) => {
                const petElement = document.createElement('div');
                petElement.className = `pet ${index === gameState.currentPetIndex ? 'active' : ''}`;
                petElement.onclick = () => {
                    gameState.currentPetIndex = index;
                    renderGame();
                };
                
                petElement.innerHTML = `
                    <div class="pet-icon" style="color: ${pet.color}">
                        <div class="bear-ears">
                            <div class="ear left-ear"></div>
                            <div class="ear right-ear"></div>
                        </div>
                        <div class="bear-body">
                            <div class="bear-face">
                                <div class="eyes">
                                    <div class="eye left-eye"></div>
                                    <div class="eye right-eye"></div>
                                </div>
                                <div class="mouth"></div>
                            </div>
                        </div>
                    </div>
                    <div class="pet-level">${pet.level}</div>
                    <div class="pet-stats">
                        <div class="stat hunger">
                            <span class="stat-icon">üçé</span>
                            <div class="stat-bar">
                                <div class="stat-fill" style="width: ${pet.hunger}%"></div>
                            </div>
                        </div>
                        <div class="stat energy">
                            <span class="stat-icon">‚ö°</span>
                            <div class="stat-bar">
                                <div class="stat-fill" style="width: ${pet.energy}%"></div>
                            </div>
                        </div>
                        <div class="stat happiness">
                            <span class="stat-icon">üòä</span>
                            <div class="stat-bar">
                                <div class="stat-fill" style="width: ${pet.happiness}%"></div>
                            </div>
                        </div>
                        <div class="xp-bar">
                            <div class="xp-fill" style="width: ${(pet.xp / (pet.level * 10)) * 100}%"></div>
                        </div>
                    </div>
                `;
                
                petsContainer.appendChild(petElement);
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ª–æ–≥
            const logElement = document.getElementById('log');
            logElement.innerHTML = '';
            gameState.log.slice().reverse().forEach(entry => {
                const logEntry = document.createElement('div');
                logEntry.className = 'log-entry';
                logEntry.textContent = entry;
                logElement.appendChild(logEntry);
            });
            
            saveGame();
        }

        // –î–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –ª–æ–≥
        function addLog(message) {
            gameState.log.push(message);
            if (gameState.log.length > 50) {
                gameState.log.shift();
            }
            renderGame();
        }

        // –ü–æ–∫–æ—Ä–º–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–∏—Ç–æ–º—Ü–∞
        function feed() {
            const pet = gameState.pets[gameState.currentPetIndex];
            
            if (pet.energy < 10) {
                addLog("–¢–∞–ø–∏–∫ —Å–ª–∏—à–∫–æ–º —É—Å—Ç–∞–ª, —á—Ç–æ–±—ã –µ—Å—Ç—å!");
                return;
            }
            
            pet.hunger = Math.min(100, pet.hunger + 30);
            pet.energy = Math.max(0, pet.energy - 10);
            addXp(pet, 5);
            
            addLog("–¢–∞–ø–∏–∫ –ø–æ–µ–ª –∏ —Å—Ç–∞–ª –º–µ–Ω–µ–µ –≥–æ–ª–æ–¥–Ω—ã–º!");
        }

        // –ü–æ–∏–≥—Ä–∞—Ç—å —Å —Ç–µ–∫—É—â–∏–º –ø–∏—Ç–æ–º—Ü–µ–º
        function play() {
            const pet = gameState.pets[gameState.currentPetIndex];
            
            if (pet.energy < 15 || pet.hunger < 20) {
                addLog("–¢–∞–ø–∏–∫ —Å–ª–∏—à–∫–æ–º —É—Å—Ç–∞–ª –∏–ª–∏ –≥–æ–ª–æ–¥–µ–Ω –¥–ª—è –∏–≥—Ä!");
                return;
            }
            
            pet.happiness = Math.min(100, pet.happiness + 25);
            pet.energy = Math.max(0, pet.energy - 15);
            pet.hunger = Math.max(0, pet.hunger - 20);
            addXp(pet, 8);
            
            addLog("–í—ã –ø–æ–∏–≥—Ä–∞–ª–∏ —Å —Ç–∞–ø–∏–∫–æ–º. –û–Ω —Å—Ç–∞–ª —Å—á–∞—Å—Ç–ª–∏–≤–µ–µ!");
        }

        // –û—Ç–¥—ã—Ö —Ç–µ–∫—É—â–µ–≥–æ –ø–∏—Ç–æ–º—Ü–∞
        function rest() {
            const pet = gameState.pets[gameState.currentPetIndex];
            
            pet.energy = Math.min(100, pet.energy + 40);
            pet.happiness = Math.max(0, pet.happiness - 10);
            addXp(pet, 3);
            
            addLog("–¢–∞–ø–∏–∫ –æ—Ç–¥–æ—Ö–Ω—É–ª –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª —ç–Ω–µ—Ä–≥–∏—é!");
        }

        // –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –ø–∏—Ç–æ–º—Ü–∞
        function train() {
            const pet = gameState.pets[gameState.currentPetIndex];
            
            if (pet.energy < 30 || pet.hunger < 30 || pet.happiness < 30) {
                addLog("–¢–∞–ø–∏–∫ –Ω–µ –≥–æ—Ç–æ–≤ –∫ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ!");
                return;
            }
            
            pet.energy = Math.max(0, pet.energy - 30);
            pet.hunger = Math.max(0, pet.hunger - 30);
            pet.happiness = Math.max(0, pet.happiness - 30);
            addXp(pet, 25);
            
            addLog("–í—ã –ø–æ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞–ª–∏ —Ç–∞–ø–∏–∫–∞. –û–Ω –ø–æ–ª—É—á–∏–ª –º–Ω–æ–≥–æ –æ–ø—ã—Ç–∞!");
        }

        // –î–æ–±–∞–≤–∏—Ç—å –æ–ø—ã—Ç –ø–∏—Ç–æ–º—Ü—É
        function addXp(pet, amount) {
            pet.xp += amount;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è
            const xpNeeded = pet.level * 10;
            if (pet.xp >= xpNeeded) {
                pet.xp -= xpNeeded;
                pet.level++;
                addLog(`–¢–∞–ø–∏–∫ –¥–æ—Å—Ç–∏–≥ —É—Ä–æ–≤–Ω—è ${pet.level}!`);
                
                // –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è, –∫—Ä–∞—Ç–Ω–æ–≥–æ 3, —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞
                if (pet.level % 3 === 0 && gameState.pets.length < 12) {
                    const newPet = createPet(colors[Math.floor(Math.random() * colors.length)]);
                    gameState.pets.push(newPet);
                    gameState.currentPetIndex = gameState.pets.length - 1;
                    addLog("–¢–∞–ø–∏–∫ —Ä–∞–∑–º–Ω–æ–∂–∏–ª—Å—è! –ü–æ—è–≤–∏–ª—Å—è –Ω–æ–≤—ã–π —Ç–∞–ø–∏–∫!");
                }
            }
            
            renderGame();
        }

        // –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞
        function newPet() {
            if (gameState.pets.length >= 12) {
                addLog("–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∞–ø–∏–∫–æ–≤ - 12!");
                return;
            }
            
            const newPet = createPet(gameState.nextColor);
            gameState.pets.push(newPet);
            gameState.currentPetIndex = gameState.pets.length - 1;
            addLog("–ü–æ—è–≤–∏–ª—Å—è –Ω–æ–≤—ã–π —Ç–∞–ø–∏–∫!");
            toggleMenu();
        }

        // –ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É
        function resetGame() {
            if (confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É? –í—Å–µ —Ç–µ–∫—É—â–∏–µ —Ç–∞–ø–∏–∫–∏ –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã.")) {
                gameState.pets = [createPet(gameState.nextColor)];
                gameState.currentPetIndex = 0;
                gameState.log = [
                    "–ù–æ–≤–∞—è –∏–≥—Ä–∞ –Ω–∞—á–∞—Ç–∞!",
                    "–í–∞—à –ø–µ—Ä–≤—ã–π —Ç–∞–ø–∏–∫ –ø–æ—è–≤–∏–ª—Å—è!"
                ];
                renderGame();
                toggleMenu();
            }
        }

        // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ü–≤–µ—Ç –¥–ª—è –Ω–æ–≤—ã—Ö –ø–∏—Ç–æ–º—Ü–µ–≤
        function setColor(color) {
            gameState.nextColor = color;
            document.querySelectorAll('.color-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // –û—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å –º–µ–Ω—é
        function toggleMenu() {
            document.getElementById('menu').classList.toggle('active');
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            initGame();
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é
            document.getElementById('menu-btn').addEventListener('click', toggleMenu);
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É—Ö—É–¥—à–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–∏—Ç–æ–º—Ü–µ–≤ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º
            setInterval(() => {
                gameState.pets.forEach(pet => {
                    // –£–º–µ–Ω—å—à–∞–µ–º –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º
                    pet.hunger = Math.max(0, pet.hunger - 1);
                    pet.energy = Math.max(0, pet.energy - 0.7);
                    pet.happiness = Math.max(0, pet.happiness - 0.5);
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ —É–º–µ—Ä –ª–∏ –ø–∏—Ç–æ–º–µ—Ü
                    if (pet.hunger <= 0 || pet.energy <= 0) {
                        const index = gameState.pets.indexOf(pet);
                        gameState.pets.splice(index, 1);
                        if (gameState.currentPetIndex >= gameState.pets.length) {
                            gameState.currentPetIndex = Math.max(0, gameState.pets.length - 1);
                        }
                        addLog("–û–¥–∏–Ω –∏–∑ —Ç–∞–ø–∏–∫–æ–≤ —É–º–µ—Ä –æ—Ç neglect!");
                        
                        if (gameState.pets.length === 0) {
                            addLog("–í—Å–µ —Ç–∞–ø–∏–∫–∏ —É–º–µ—Ä–ª–∏! –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–≥–æ...");
                            gameState.pets = [createPet(gameState.nextColor)];
                            gameState.currentPetIndex = 0;
                        }
                    }
                });
                
                renderGame();
            }, 10000); // –ö–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
        };
    </script>
</body>
</html>