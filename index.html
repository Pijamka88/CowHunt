<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cow Hunt</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      background: radial-gradient(#000411, #000f2b);
      color: white;
      font-family: 'Arial', sans-serif;
      overflow: hidden;
    }

    canvas {
      display: block;
      margin: 0 auto;
      background: transparent;
      touch-action: none;
    }

    #menu {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      z-index: 10;
    }

    #menu button {
      padding: 1em 2em;
      font-size: 1.2em;
      background: #1a3d6d;
      border: none;
      color: white;
      cursor: pointer;
      border-radius: 10px;
      transition: 0.3s;
    }

    #menu button:hover {
      background: #2c6db5;
    }

    .cow {
      width: 60px;
      height: 40px;
      background: linear-gradient(to bottom, #a97e3d, #5e3a1f);
      border-radius: 30px 30px 20px 20px;
      position: absolute;
      overflow: visible;
    }

    .head {
      width: 30px;
      height: 30px;
      background: #5e3a1f;
      border-radius: 50%;
      position: absolute;
      top: -15px;
      left: 15px;
    }

    .helmet {
      width: 30px;
      height: 30px;
      border: 2px solid rgba(0,255,255,0.7);
      border-radius: 50%;
      position: absolute;
      top: 0;
      left: 0;
    }

    .horn {
      width: 0;
      height: 0;
      border-left: 5px solid transparent;
      border-right: 5px solid transparent;
      border-bottom: 15px solid #5e3a1f;
      position: absolute;
      top: -10px;
    }

    .horn.left {
      left: 5px;
    }

    .horn.right {
      right: 5px;
    }

    .eye {
      width: 6px;
      height: 6px;
      background: white;
      border-radius: 50%;
      position: absolute;
      top: 8px;
    }

    .eye.left {
      left: 6px;
    }

    .eye.right {
      right: 6px;
    }

    .nose {
      width: 12px;
      height: 6px;
      background: #a97e3d;
      position: absolute;
      bottom: 2px;
      left: 9px;
      border-radius: 4px;
    }

    .nostril {
      width: 3px;
      height: 3px;
      background: black;
      border-radius: 50%;
      position: absolute;
    }

    .nostril.left {
      left: 3px;
    }

    .nostril.right {
      right: 3px;
    }

    .leg {
      width: 4px;
      height: 10px;
      background: #5e3a1f;
      position: absolute;
      bottom: -10px;
    }

    .leg.front {
      left: 10px;
    }

    .leg.back {
      right: 10px;
    }

    .explosion {
      position: absolute;
      width: 40px;
      height: 40px;
      background: radial-gradient(circle, yellow, orange, red);
      border-radius: 50%;
      opacity: 0.8;
      animation: explode 0.5s forwards;
    }

    @keyframes explode {
      0% { transform: scale(0); opacity: 1; }
      100% { transform: scale(1.5); opacity: 0; }
    }

    .falling {
      animation: fall 1s ease-in forwards;
    }

    @keyframes fall {
      0% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(100vh); opacity: 0; }
    }
  </style>
</head>
<body>

<div id="menu">
  <h1>ðŸ›¸ Cow Hunt ðŸ›¸</h1>
  <button onclick="startGame()">Ð˜Ð³Ñ€Ð°Ñ‚ÑŒ</button>
</div>

<canvas id="gameCanvas"></canvas>

<script>
  const canvas = document.getElementById('gameCanvas');
  const ctx = canvas.getContext('2d');
  let cw, ch, gameInterval, cows = [], score = 0;

  function resize() {
    cw = window.innerWidth;
    ch = window.innerHeight;
    canvas.width = cw;
    canvas.height = ch;
  }

  window.addEventListener('resize', resize);
  resize();

  function random(min, max) {
    return Math.random() * (max - min) + min;
  }

  class Cow {
    constructor() {
      this.x = Math.random() > 0.5 ? -60 : cw + 60;
      this.y = random(20, ch - 100);
      this.dir = this.x < 0 ? 1 : -1;
      this.speed = random(0.5, 1.5);
      this.el = document.createElement('div');
      this.create();
      this.updatePos();
    }

    create() {
      this.el.className = 'cow';
      this.head = document.createElement('div');
      this.head.className = 'head';

      // Helmet
      const helmet = document.createElement('div');
      helmet.className = 'helmet';

      // Horns
      const hornL = document.createElement('div');
      hornL.className = 'horn left';
      const hornR = document.createElement('div');
      hornR.className = 'horn right';

      // Eyes
      const eyeL = document.createElement('div');
      eyeL.className = 'eye left';
      const eyeR = document.createElement('div');
      eyeR.className = 'eye right';

      // Nose and nostrils
      const nose = document.createElement('div');
      nose.className = 'nose';
      const nostrilL = document.createElement('div');
      nostrilL.className = 'nostril left';
      const nostrilR = document.createElement('div');
      nostrilR.className = 'nostril right';
      nose.appendChild(nostrilL);
      nose.appendChild(nostrilR);

      // Legs
      const legFL = document.createElement('div');
      legFL.className = 'leg front';
      const legFR = document.createElement('div');
      legFR.className = 'leg front';
      legFR.style.top = '20px';
      const legBL = document.createElement('div');
      legBL.className = 'leg back';
      const legBR = document.createElement('div');
      legBR.className = 'leg back';
      legBR.style.top = '20px';

      this.head.appendChild(helmet);
      helmet.appendChild(hornL);
      helmet.appendChild(hornR);
      helmet.appendChild(eyeL);
      helmet.appendChild(eyeR);
      helmet.appendChild(nose);
      this.el.appendChild(this.head);
      this.el.appendChild(legFL);
      this.el.appendChild(legFR);
      this.el.appendChild(legBL);
      this.el.appendChild(legBR);

      document.body.appendChild(this.el);
    }

    updatePos() {
      this.x += this.speed * this.dir;
      this.el.style.left = this.x + 'px';
      this.el.style.top = this.y + 'px';
    }

    isOnScreen() {
      return this.x > -60 && this.x < cw + 60;
    }

    remove() {
      this.el.remove();
    }

    hit(x, y) {
      const dx = x - this.x;
      const dy = y - this.y;
      return dx >= 0 && dx <= 60 && dy >= 0 && dy <= 60;
    }
  }

  function startGame() {
    document.getElementById('menu').style.display = 'none';
    score = 0;
    cows = [];
    clearInterval(gameInterval);
    gameInterval = setInterval(() => {
      if (Math.random() < 0.05) cows.push(new Cow());
    }, 500);

    requestAnimationFrame(update);
  }

  function update() {
    ctx.clearRect(0, 0, cw, ch);
    for (let i = cows.length - 1; i >= 0; i--) {
      const cow = cows[i];
      if (!cow.isOnScreen()) {
        cow.remove();
        cows.splice(i, 1);
      } else {
        cow.updatePos();
      }
    }
    requestAnimationFrame(update);
  }

  canvas.addEventListener('click', e => {
    const rect = canvas.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;

    for (let i = cows.length - 1; i >= 0; i--) {
      const cow = cows[i];
      if (cow.hit(x, y)) {
        // Explosion
        const expl = document.createElement('div');
        expl.className = 'explosion';
        expl.style.left = (cow.x + 10) + 'px';
        expl.style.top = (cow.y + 10) + 'px';
        document.body.appendChild(expl);
        setTimeout(() => expl.remove(), 500);

        // Fall animation
        cow.el.classList.add('falling');

        setTimeout(() => {
          cow.remove();
          cows.splice(i, 1);
        }, 1000);

        score++;
        break;
      }
    }
  });
</script>

</body>
</html>