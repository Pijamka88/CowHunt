<!DOCTYPE html>
<html>
<head>
    <title>Alien Cow Hunt</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        /* ... (остальные стили остаются без изменений) ... */
    </style>
</head>
<body>
    <!-- ... (HTML структура остается без изменений) ... -->

    <script>
        // ... (остальной код остается без изменений до класса Cow) ...

        class Cow {
            constructor() {
                this.width = config.cowWidth;
                this.height = config.cowHeight;
                this.headRadius = config.headRadius;
                this.color = cowColors[Math.floor(Math.random() * cowColors.length)];
                this.reset();
                this.alive = true;
                this.wingPhase = 0;
                this.wingSpeed = Math.random() * 0.05 + 0.05;
                this.deathAnimation = 0;
                this.rotation = 0;
                this.antennaPhase = 0;
            }

            reset() {
                this.direction = Math.random() > 0.5 ? 1 : -1;
                
                if (this.direction === 1) {
                    this.x = -this.width;
                    this.y = Math.random() * (canvas.height - 100) + 50;
                    this.vx = Math.random() * config.cowSpeed + config.cowSpeed * 0.5;
                    this.vy = (Math.random() - 0.5) * config.cowSpeed * 0.5;
                } else {
                    this.x = canvas.width + this.width;
                    this.y = Math.random() * (canvas.height - 100) + 50;
                    this.vx = -(Math.random() * config.cowSpeed + config.cowSpeed * 0.5);
                    this.vy = (Math.random() - 0.5) * config.cowSpeed * 0.5;
                }
                
                this.alive = true;
                this.deathAnimation = 0;
                this.rotation = 0;
            }

            update() {
                if (this.alive) {
                    this.x += this.vx;
                    this.y += this.vy;
                    this.wingPhase += this.wingSpeed;
                    this.antennaPhase += 0.05;
                    
                    if ((this.direction === 1 && this.x > canvas.width + this.width*2) || 
                        (this.direction === -1 && this.x < -this.width*2)) {
                        this.reset();
                    }
                    
                    if (this.y < this.height/2 || this.y > canvas.height - this.height/2) {
                        this.vy *= -1;
                    }
                } else {
                    this.deathAnimation -= 0.02;
                    this.x += this.vx;
                    this.y += this.vy;
                    this.vy *= 1.05;
                    this.rotation += this.rotationSpeed;
                    
                    if (this.deathAnimation <= 0 || this.y > canvas.height + this.height*2) {
                        const index = deadCows.indexOf(this);
                        if (index !== -1) deadCows.splice(index, 1);
                    }
                }
            }

            draw() {
                ctx.save();
                ctx.translate(this.x, this.y);
                
                if (this.alive) {
                    ctx.rotate(this.rotation);
                    
                    // Тело (каплевидная форма)
                    ctx.fillStyle = this.color;
                    ctx.beginPath();
                    ctx.ellipse(0, 0, this.width/2, this.height/2.5, 0, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Голова (инопланетная)
                    const headX = this.direction === 1 ? this.width/2 : -this.width/2;
                    
                    // Основная часть головы
                    ctx.fillStyle = this.color;
                    ctx.beginPath();
                    ctx.arc(headX, 0, this.headRadius*0.8, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Большие глаза
                    const eyeOffsetX = headX + this.headRadius * 0.4 * -this.direction;
                    
                    // Левый глаз
                    ctx.fillStyle = 'white';
                    ctx.beginPath();
                    ctx.arc(eyeOffsetX, -8, 8, 0, Math.PI * 2);
                    ctx.fill();
                    
                    ctx.fillStyle = '#222';
                    ctx.beginPath();
                    ctx.arc(
                        eyeOffsetX + 3 * -this.direction, 
                        -8, 
                        4, 
                        0, 
                        Math.PI * 2
                    );
                    ctx.fill();
                    
                    // Правый глаз
                    ctx.fillStyle = 'white';
                    ctx.beginPath();
                    ctx.arc(eyeOffsetX, 8, 8, 0, Math.PI * 2);
                    ctx.fill();
                    
                    ctx.fillStyle = '#222';
                    ctx.beginPath();
                    ctx.arc(
                        eyeOffsetX + 3 * -this.direction, 
                        8, 
                        4, 
                        0, 
                        Math.PI * 2
                    );
                    ctx.fill();
                    
                    // Антенны (шевелятся)
                    ctx.strokeStyle = this.color;
                    ctx.lineWidth = 2;
                    const antennaYOffset = Math.sin(this.antennaPhase) * 3;
                    
                    // Левая антенна
                    ctx.beginPath();
                    ctx.moveTo(headX + 5 * -this.direction, -this.headRadius*0.7);
                    ctx.lineTo(
                        headX + 15 * -this.direction, 
                        -this.headRadius*1.5 + antennaYOffset
                    );
                    ctx.stroke();
                    ctx.fillStyle = '#FFEB3B';
                    ctx.beginPath();
                    ctx.arc(
                        headX + 15 * -this.direction, 
                        -this.headRadius*1.5 + antennaYOffset, 
                        3, 
                        0, 
                        Math.PI * 2
                    );
                    ctx.fill();
                    
                    // Правая антенна
                    ctx.beginPath();
                    ctx.moveTo(headX + 5 * -this.direction, this.headRadius*0.7);
                    ctx.lineTo(
                        headX + 15 * -this.direction, 
                        this.headRadius*1.5 - antennaYOffset
                    );
                    ctx.stroke();
                    ctx.fillStyle = '#FFEB3B';
                    ctx.beginPath();
                    ctx.arc(
                        headX + 15 * -this.direction, 
                        this.headRadius*1.5 - antennaYOffset, 
                        3, 
                        0, 
                        Math.PI * 2
                    );
                    ctx.fill();
                    
                    // Крылья (белые энергетические)
                    const wingYOffset = Math.sin(this.wingPhase) * 10;
                    ctx.strokeStyle = 'rgba(255, 255, 255, 0.8)';
                    ctx.lineWidth = 6;
                    ctx.lineCap = 'round';
                    
                    // Переднее крыло
                    ctx.beginPath();
                    ctx.moveTo(this.width/6 * this.direction, -5);
                    ctx.lineTo(
                        this.width/2 * this.direction + 25 * this.direction, 
                        -20 + wingYOffset
                    );
                    ctx.stroke();
                    
                    // Заднее крыло
                    ctx.beginPath();
                    ctx.moveTo(-this.width/6 * this.direction, 5);
                    ctx.lineTo(
                        -this.width/2 * this.direction - 25 * this.direction, 
                        20 - wingYOffset
                    );
                    ctx.stroke();
                    
                    // Ноги (3 пальца)
                    ctx.fillStyle = '#5D4037';
                    const legY = this.height/3;
                    
                    // Передняя нога
                    for (let i = 0; i < 3; i++) {
                        ctx.beginPath();
                        ctx.arc(
                            this.width/4 * this.direction + i * 6 * this.direction, 
                            legY, 
                            3, 
                            0, 
                            Math.PI * 2
                        );
                        ctx.fill();
                    }
                    
                    // Задняя нога
                    for (let i = 0; i < 3; i++) {
                        ctx.beginPath();
                        ctx.arc(
                            -this.width/4 * this.direction + i * 6 * this.direction, 
                            legY, 
                            3, 
                            0, 
                            Math.PI * 2
                        );
                        ctx.fill();
                    }
                    
                    // Рот (улыбка)
                    ctx.strokeStyle = '#222';
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    ctx.arc(
                        eyeOffsetX, 
                        0, 
                        5, 
                        0.2 * Math.PI, 
                        0.8 * Math.PI
                    );
                    ctx.stroke();
                } else {
                    // Анимация смерти
                    ctx.rotate(this.rotation);
                    ctx.globalAlpha = this.deathAnimation;
                    
                    // Тело
                    ctx.fillStyle = this.color;
                    ctx.beginPath();
                    ctx.ellipse(0, 0, this.width/2, this.height/2.5, 0, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Голова
                    const headX = this.direction === 1 ? this.width/2 : -this.width/2;
                    ctx.fillStyle = this.color;
                    ctx.beginPath();
                    ctx.arc(headX, 0, this.headRadius*0.8, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // X глаза
                    const eyeOffsetX = headX + this.headRadius * 0.4 * -this.direction;
                    ctx.strokeStyle = '#222';
                    ctx.lineWidth = 3;
                    
                    // Левый глаз X
                    ctx.beginPath();
                    ctx.moveTo(eyeOffsetX - 5, -8 - 5);
                    ctx.lineTo(eyeOffsetX + 5, -8 + 5);
                    ctx.moveTo(eyeOffsetX - 5, -8 + 5);
                    ctx.lineTo(eyeOffsetX + 5, -8 - 5);
                    ctx.stroke();
                    
                    // Правый глаз X
                    ctx.beginPath();
                    ctx.moveTo(eyeOffsetX - 5, 8 - 5);
                    ctx.lineTo(eyeOffsetX + 5, 8 + 5);
                    ctx.moveTo(eyeOffsetX - 5, 8 + 5);
                    ctx.lineTo(eyeOffsetX + 5, 8 - 5);
                    ctx.stroke();
                    
                    ctx.globalAlpha = 1;
                }
                
                ctx.restore();
            }
        }

        // ... (остальной код остается без изменений) ...
    </script>
</body>
</html>